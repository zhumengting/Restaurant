<?xml version="1.0" encoding="UTF-8"?>
<beans  
        xmlns="http://www.springframework.org/schema/beans"  
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
        xmlns:tx="http://www.springframework.org/schema/tx"  
        xmlns:context="http://www.springframework.org/schema/context"    
        xmlns:mvc="http://www.springframework.org/schema/mvc"    
        xsi:schemaLocation="http://www.springframework.org/schema/beans   
        http://www.springframework.org/schema/beans/spring-beans-3.2.xsd   
        http://www.springframework.org/schema/tx   
        http://www.springframework.org/schema/tx/spring-tx-3.2.xsd  
        http://www.springframework.org/schema/context  
        http://www.springframework.org/schema/context/spring-context-3.2.xsd  
        http://www.springframework.org/schema/mvc  
        http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd">  
      
        <!-- 自动扫描的包名 -->  
        <context:component-scan base-package="com.food"/>  
      
        <!-- 默认的注解映射的支持，自动注册DefaultAnnotationHandlerMapping和AnnotationMethodHandlerAdapter -->  
        <mvc:annotation-driven />  
      

		<mvc:default-servlet-handler/>
		
<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer" id="config">


<property name="locations">


<list>

<value>classpath*:jdbc.properties</value>

</list>

</property>

</bean>
		
<bean class="org.apache.commons.dbcp.BasicDataSource" id="dataSource" destroy-method="close">

<property name="driverClassName" value="com.mysql.jdbc.Driver"/>

<property name="url" value="jdbc:mysql://localhost:3306/big_restaurant?characterEncoding=utf8"/>

<property name="username" value="root"/>

<property name="password" value="tky666"/>

</bean>


<bean class="org.springframework.jdbc.core.JdbcTemplate" id="jdbcTemplate">


<property name="dataSource">

<ref local="dataSource"/>

</property>

</bean>


<bean class="com.food.daoImp.BusinessDaoImp" id="BusinessDaoImp">

<property name="dataSource" ref="dataSource"/>

</bean>
<bean class="com.food.daoImp.ReviewDaoImp" id="ReviewDaoImp">

<property name="dataSource" ref="dataSource"/>

</bean>
<bean id="UserDaoImp" class="com.food.daoImp.UserDaoImp">  
        <property name="dataSource" ref="dataSource"></property>  
</bean>       
<bean id="LikeDaoImp" class="com.food.daoImp.LikeDaoImp">  
    <property name="dataSource" ref="dataSource"></property>  
</bean>
<bean id="RecommandDaoImp" class="com.food.daoImp.RecommandDaoImp">  
    <property name="dataSource" ref="dataSource"></property>  
</bean>
        <!-- 视图解释类 -->  
        <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">  
            <property name="prefix" value="/"/>  
            <property name="suffix" value=".jsp"/>  
            <property name="viewClass" value="org.springframework.web.servlet.view.JstlView" />  
        </bean>  
        
<mvc:interceptors>  
         <bean class="com.food.util.LoginInterceptor" />  
</mvc:interceptors>  
        <!-- 对静态资源文件的访问--> 
   <mvc:default-servlet-handler />  
    <mvc:resources mapping="/css/**" location="/assets/css/" cache-period="31536000"/>  
    <mvc:resources mapping="/js/**" location="/assets/js/" cache-period="31536000"/>  
    <mvc:resources mapping="/images/**" location="/assets/images/" cache-period="31536000"/>   
        <mvc:resources location="/assets/fonts/" mapping="/fonts/**"/> 
        <mvc:resources location="/switchstylesheet/" mapping="/switchstylesheet/**"/> 
          
      
</beans>   